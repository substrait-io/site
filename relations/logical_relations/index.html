<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Substrait is a new specification and set of tools that allow different systems to express clear data manipulation operations."><link href=https://substrait.io/relations/logical_relations/ rel=canonical><link href=../basics/ rel=prev><link href=../physical_relations/ rel=next><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.4.3, mkdocs-material-9.1.18"><title>Logical Relations - Substrait: Cross-Language Serialization for Relational Algebra</title><link rel=stylesheet href=../../assets/stylesheets/main.26e3688c.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ecc896b0.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-57ZX8S93Q5"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-57ZX8S93Q5",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-57ZX8S93Q5",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=pink data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#logical-relations class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Substrait: Cross-Language Serialization for Relational Algebra" class="md-header__button md-logo" aria-label="Substrait: Cross-Language Serialization for Relational Algebra" data-md-component=logo> <img src=../../img/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Substrait: Cross-Language Serialization for Relational Algebra </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Logical Relations </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/substrait-io/substrait title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../spec/versioning/ class=md-tabs__link> Spec </a> </li> <li class=md-tabs__item> <a href=../../types/type_system/ class=md-tabs__link> Types </a> </li> <li class=md-tabs__item> <a href=../../expressions/field_references/ class=md-tabs__link> Expressions </a> </li> <li class=md-tabs__item> <a href=../basics/ class="md-tabs__link md-tabs__link--active"> Relations </a> </li> <li class=md-tabs__item> <a href=../../serialization/binary_serialization/ class=md-tabs__link> Serialization </a> </li> <li class=md-tabs__item> <a href=../../extensions/ class=md-tabs__link> Extensions </a> </li> <li class=md-tabs__item> <a href=../../community/ class=md-tabs__link> Community </a> </li> <li class=md-tabs__item> <a href=../../governance/ class=md-tabs__link> Governance </a> </li> <li class=md-tabs__item> <a href=../../tools/producer_tools/ class=md-tabs__link> Tools </a> </li> <li class=md-tabs__item> <a href=../../tutorial/sql_to_substrait/ class=md-tabs__link> Tutorial </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Substrait: Cross-Language Serialization for Relational Algebra" class="md-nav__button md-logo" aria-label="Substrait: Cross-Language Serialization for Relational Algebra" data-md-component=logo> <img src=../../img/logo.svg alt=logo> </a> Substrait: Cross-Language Serialization for Relational Algebra </label> <div class=md-nav__source> <a href=https://github.com/substrait-io/substrait title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Spec <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Spec </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../spec/versioning/ class=md-nav__link> Versioning </a> </li> <li class=md-nav__item> <a href=../../spec/specification/ class=md-nav__link> Specification </a> </li> <li class=md-nav__item> <a href=../../spec/technology_principles/ class=md-nav__link> Technology Principles </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> Types <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Types </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../types/type_system/ class=md-nav__link> Type System </a> </li> <li class=md-nav__item> <a href=../../types/type_classes/ class=md-nav__link> Type Classes </a> </li> <li class=md-nav__item> <a href=../../types/type_variations/ class=md-nav__link> Type Variations </a> </li> <li class=md-nav__item> <a href=../../types/type_parsing/ class=md-nav__link> Type Syntax Parsing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Expressions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Expressions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../expressions/field_references/ class=md-nav__link> Field References </a> </li> <li class=md-nav__item> <a href=../../expressions/scalar_functions/ class=md-nav__link> Scalar Functions </a> </li> <li class=md-nav__item> <a href=../../expressions/aggregate_functions/ class=md-nav__link> Aggregate Functions </a> </li> <li class=md-nav__item> <a href=../../expressions/specialized_record_expressions/ class=md-nav__link> Specialized Record Expressions </a> </li> <li class=md-nav__item> <a href=../../expressions/window_functions/ class=md-nav__link> Window Functions </a> </li> <li class=md-nav__item> <a href=../../expressions/table_functions/ class=md-nav__link> Table Functions </a> </li> <li class=md-nav__item> <a href=../../expressions/user_defined_functions/ class=md-nav__link> User-Defined Functions </a> </li> <li class=md-nav__item> <a href=../../expressions/embedded_functions/ class=md-nav__link> Embedded Functions </a> </li> <li class=md-nav__item> <a href=../../expressions/extended_expression/ class=md-nav__link> Extended Expression </a> </li> <li class=md-nav__item> <a href=../../expressions/subqueries/ class=md-nav__link> Subqueries </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> Relations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Relations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../basics/ class=md-nav__link> Basics </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Logical Relations <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Logical Relations </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#read-operator class=md-nav__link> Read Operator </a> <nav class=md-nav aria-label="Read Operator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#read-properties class=md-nav__link> Read Properties </a> </li> <li class=md-nav__item> <a href=#read-filtering class=md-nav__link> Read Filtering </a> </li> <li class=md-nav__item> <a href=#read-definition-types class=md-nav__link> Read Definition Types </a> <nav class=md-nav aria-label="Read Definition Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#virtual-table class=md-nav__link> Virtual Table </a> </li> <li class=md-nav__item> <a href=#named-table class=md-nav__link> Named Table </a> </li> <li class=md-nav__item> <a href=#files-type class=md-nav__link> Files Type </a> <nav class=md-nav aria-label="Files Type"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#slicing-files class=md-nav__link> Slicing Files </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#filter-operation class=md-nav__link> Filter Operation </a> <nav class=md-nav aria-label="Filter Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#filter-properties class=md-nav__link> Filter Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sort-operation class=md-nav__link> Sort Operation </a> <nav class=md-nav aria-label="Sort Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sort-properties class=md-nav__link> Sort Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#project-operation class=md-nav__link> Project Operation </a> <nav class=md-nav aria-label="Project Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#project-properties class=md-nav__link> Project Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#cross-product-operation class=md-nav__link> Cross Product Operation </a> <nav class=md-nav aria-label="Cross Product Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#cross-product-properties class=md-nav__link> Cross Product Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#join-operation class=md-nav__link> Join Operation </a> <nav class=md-nav aria-label="Join Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#join-properties class=md-nav__link> Join Properties </a> </li> <li class=md-nav__item> <a href=#join-types class=md-nav__link> Join Types </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#set-operation class=md-nav__link> Set Operation </a> <nav class=md-nav aria-label="Set Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#set-properties class=md-nav__link> Set Properties </a> </li> <li class=md-nav__item> <a href=#set-operation-types class=md-nav__link> Set Operation Types </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fetch-operation class=md-nav__link> Fetch Operation </a> <nav class=md-nav aria-label="Fetch Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fetch-properties class=md-nav__link> Fetch Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#aggregate-operation class=md-nav__link> Aggregate Operation </a> <nav class=md-nav aria-label="Aggregate Operation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#aggregate-properties class=md-nav__link> Aggregate Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#reference-operator class=md-nav__link> Reference Operator </a> <nav class=md-nav aria-label="Reference Operator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#reference-properties class=md-nav__link> Reference Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#write-operator class=md-nav__link> Write Operator </a> <nav class=md-nav aria-label="Write Operator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#write-properties class=md-nav__link> Write Properties </a> </li> <li class=md-nav__item> <a href=#write-definition-types class=md-nav__link> Write Definition Types </a> <nav class=md-nav aria-label="Write Definition Types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#virtual-table_1 class=md-nav__link> Virtual Table </a> </li> <li class=md-nav__item> <a href=#files-type_1 class=md-nav__link> Files Type </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ddl-operator class=md-nav__link> DDL Operator </a> <nav class=md-nav aria-label="DDL Operator"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#ddl-properties class=md-nav__link> DDL Properties </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#discussion-points class=md-nav__link> Discussion Points </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../physical_relations/ class=md-nav__link> Physical Relations </a> </li> <li class=md-nav__item> <a href=../user_defined_relations/ class=md-nav__link> User Defined Relations </a> </li> <li class=md-nav__item> <a href=../embedded_relations/ class=md-nav__link> Embedded Relations </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Serialization <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Serialization </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../serialization/binary_serialization/ class=md-nav__link> Binary Serialization </a> </li> <li class=md-nav__item> <a href=../../serialization/text_serialization/ class=md-nav__link> Text Serialization </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Extensions <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Extensions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../extensions/ class=md-nav__link> Extensions </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_aggregate_approx/ class=md-nav__link> functions_aggregate_approx.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_aggregate_generic/ class=md-nav__link> functions_aggregate_generic.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_arithmetic/ class=md-nav__link> functions_arithmetic.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_arithmetic_decimal/ class=md-nav__link> functions_arithmetic_decimal.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_boolean/ class=md-nav__link> functions_boolean.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_comparison/ class=md-nav__link> functions_comparison.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_datetime/ class=md-nav__link> functions_datetime.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_logarithmic/ class=md-nav__link> functions_logarithmic.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_rounding/ class=md-nav__link> functions_rounding.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_set/ class=md-nav__link> functions_set.yaml </a> </li> <li class=md-nav__item> <a href=../../extensions/functions_string/ class=md-nav__link> functions_string.yaml </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> Community <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Community </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../community/ class=md-nav__link> Community </a> </li> <li class=md-nav__item> <a href=../../community/powered_by/ class=md-nav__link> Powered by Substrait </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../governance/ class=md-nav__link> Governance </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> Tools <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tools/producer_tools/ class=md-nav__link> Producer Tools </a> </li> <li class=md-nav__item> <a href=../../tools/substrait_validator/ class=md-nav__link> Substrait Validator </a> </li> <li class=md-nav__item> <a href=../../tools/third_party_tools/ class=md-nav__link> Third Party Tools </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> Tutorial <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Tutorial </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../tutorial/sql_to_substrait/ class=md-nav__link> SQL to Substrait tutorial </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=logical-relations>Logical Relations<a class=headerlink href=#logical-relations title="Permanent link">&para;</a></h1> <h2 id=read-operator>Read Operator<a class=headerlink href=#read-operator title="Permanent link">&para;</a></h2> <p>The read operator is an operator that produces one output. A simple example would be the reading of a Parquet file. It is expected that many types of reads will be added over time.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>0</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>N/A (no inputs)</td> </tr> <tr> <td>Direct Output Order</td> <td>Defaults to the schema of the data read after the optional projection (masked complex expression) is applied.</td> </tr> </tbody> </table> <h3 id=read-properties>Read Properties<a class=headerlink href=#read-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Definition</td> <td>The contents of the read property definition.</td> <td>Required</td> </tr> <tr> <td>Direct Schema</td> <td>Defines the schema of the output of the read (before any projection or emit remapping/hiding).</td> <td>Required</td> </tr> <tr> <td>Filter</td> <td>A boolean Substrait expression that describes a filter that must be applied to the data. The filter should be interpreted against the direct schema.</td> <td>Optional, defaults to none.</td> </tr> <tr> <td>Best Effort Filter</td> <td>A boolean Substrait expression that describes a filter that may be applied to the data. The filter should be interpreted against the direct schema.</td> <td>Optional, defaults to none.</td> </tr> <tr> <td>Projection</td> <td>A masked complex expression describing the portions of the content that should be read</td> <td>Optional, defaults to all of schema</td> </tr> <tr> <td>Output Properties</td> <td>Declaration of orderedness and/or distribution properties this read produces.</td> <td>Optional, defaults to no properties.</td> </tr> <tr> <td>Properties</td> <td>A list of name/value pairs associated with the read.</td> <td>Optional, defaults to empty</td> </tr> </tbody> </table> <h3 id=read-filtering>Read Filtering<a class=headerlink href=#read-filtering title="Permanent link">&para;</a></h3> <p>The read relation has two different filter properties. A filter, which must be satisfied by the operator and a best effort filter, which does not have to be satisfied. This reflects the way that consumers are often implemented. A consumer is often only able to fully apply a limited set of operations in the scan. There can then be an extended set of operations which a consumer can apply in a best effort fashion. A producer, when setting these two fields, should take care to only use expressions that the consumer is capable of handling.</p> <p>As an example, a consumer may only be able to fully apply (in the read relation) &lt;, =, and &gt; on integral types. The consumer may be able to apply &lt;, =, and &gt; in a best effort fashion on decimal and string types. Consider the filter expression <code>my_int &lt; 10 &amp;&amp; my_string &lt; "x" &amp;&amp; upper(my_string) &gt; "B"</code>. In this case the <code>filter</code> should be set to <code>my_int &lt; 10</code> and the <code>best_effort_filter</code> should be set to <code>my_string &lt; "x"</code> and the remaining portion (<code>upper(my_string) &gt; "B"</code>) should be put into a filter relation.</p> <p>A filter expression must be interpreted against the direct schema before the projection expression has been applied. As a result, fields may be referenced by the filter expression which are not included in the relation&rsquo;s output.</p> <h3 id=read-definition-types>Read Definition Types<a class=headerlink href=#read-definition-types title="Permanent link">&para;</a></h3> <p>Read definition types are built by the community and added to the specification. This is a portion of specification that is expected to grow rapidly.</p> <h4 id=virtual-table>Virtual Table<a class=headerlink href=#virtual-table title="Permanent link">&para;</a></h4> <p>A virtual table is a table whose contents are embedded in the plan itself. The table data is encoded as records consisting of literal values.</p> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Data</td> <td>Required</td> <td>Required</td> </tr> </tbody> </table> <h4 id=named-table>Named Table<a class=headerlink href=#named-table title="Permanent link">&para;</a></h4> <p>A named table is a reference to data defined elsewhere. For example, there may be a catalog of tables with unique names that both the producer and consumer agree on. This catalog would provide the consumer with more information on how to retrieve the data.</p> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Names</td> <td>A list of namespaced strings that, together, form the table name</td> <td>Required (at least one)</td> </tr> </tbody> </table> <h4 id=files-type>Files Type<a class=headerlink href=#files-type title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Items</td> <td>An array of Items (path or path glob) associated with the read.</td> <td>Required</td> </tr> <tr> <td>Format per item</td> <td>Enumeration of available formats. Only current option is PARQUET.</td> <td>Required</td> </tr> <tr> <td>Slicing parameters per item</td> <td>Information to use when reading a slice of a file.</td> <td>Optional</td> </tr> </tbody> </table> <h5 id=slicing-files>Slicing Files<a class=headerlink href=#slicing-files title="Permanent link">&para;</a></h5> <p>A read operation is allowed to only read part of a file. This is convenient, for example, when distributing a read operation across several nodes. The slicing parameters are specified as byte offsets into the file.</p> <p>Many file formats consist of indivisible &ldquo;chunks&rdquo; of data (e.g. Parquet row groups). If this happens the consumer can determine which slice a particular chunk belongs to. For example, one possible approach is that a chunk should only be read if the midpoint of the chunk (dividing by 2 and rounding down) is contained within the asked-for byte range.</p> <div class=tabbed-set data-tabs=1:1><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>ReadRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>ReadRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=n>NamedStruct</span><span class=w> </span><span class=na>base_schema</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=n>Expression</span><span class=w> </span><span class=na>filter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=n>Expression</span><span class=w> </span><span class=na>best_effort_filter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>11</span><span class=p>;</span>
<span class=w>  </span><span class=n>Expression.MaskExpression</span><span class=w> </span><span class=na>projection</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// Definition of which type of scan operation is to be performed</span>
<span class=w>  </span><span class=k>oneof</span><span class=w> </span><span class=n>read_type</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=n>VirtualTable</span><span class=w> </span><span class=na>virtual_table</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
<span class=w>    </span><span class=n>LocalFiles</span><span class=w> </span><span class=na>local_files</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span><span class=p>;</span>
<span class=w>    </span><span class=n>NamedTable</span><span class=w> </span><span class=na>named_table</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>7</span><span class=p>;</span>
<span class=w>    </span><span class=n>ExtensionTable</span><span class=w> </span><span class=na>extension_table</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>8</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=c1>// A base table. The list of string is used to represent namespacing (e.g., mydb.mytable).</span>
<span class=w>  </span><span class=c1>// This assumes shared catalog between systems exchanging a message.</span>
<span class=w>  </span><span class=kd>message</span><span class=w> </span><span class=nc>NamedTable</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>repeated</span><span class=w> </span><span class=kt>string</span><span class=w> </span><span class=na>names</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=c1>// A table composed of literals.</span>
<span class=w>  </span><span class=kd>message</span><span class=w> </span><span class=nc>VirtualTable</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>repeated</span><span class=w> </span><span class=n>Expression.Literal.Struct</span><span class=w> </span><span class=na>values</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=c1>// A stub type that can be used to extend/introduce new table types outside</span>
<span class=w>  </span><span class=c1>// the specification.</span>
<span class=w>  </span><span class=kd>message</span><span class=w> </span><span class=nc>ExtensionTable</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=n>google.protobuf.Any</span><span class=w> </span><span class=na>detail</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=c1>// Represents a list of files in input of a scan operation</span>
<span class=w>  </span><span class=kd>message</span><span class=w> </span><span class=nc>LocalFiles</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>repeated</span><span class=w> </span><span class=n>FileOrFiles</span><span class=w> </span><span class=na>items</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=w>    </span><span class=c1>// Many files consist of indivisible chunks (e.g. parquet row groups</span>
<span class=w>    </span><span class=c1>// or CSV rows).  If a slice partially selects an indivisible chunk</span>
<span class=w>    </span><span class=c1>// then the consumer should employ some rule to decide which slice to</span>
<span class=w>    </span><span class=c1>// include the chunk in (e.g. include it in the slice that contains</span>
<span class=w>    </span><span class=c1>// the midpoint of the chunk)</span>
<span class=w>    </span><span class=kd>message</span><span class=w> </span><span class=nc>FileOrFiles</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=k>oneof</span><span class=w> </span><span class=n>path_type</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=c1>// A URI that can refer to either a single folder or a single file</span>
<span class=w>        </span><span class=kt>string</span><span class=w> </span><span class=na>uri_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>        </span><span class=c1>// A URI where the path portion is a glob expression that can</span>
<span class=w>        </span><span class=c1>// identify zero or more paths.</span>
<span class=w>        </span><span class=c1>// Consumers should support the POSIX syntax.  The recursive</span>
<span class=w>        </span><span class=c1>// globstar (**) may not be supported.</span>
<span class=w>        </span><span class=kt>string</span><span class=w> </span><span class=na>uri_path_glob</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>        </span><span class=c1>// A URI that refers to a single file</span>
<span class=w>        </span><span class=kt>string</span><span class=w> </span><span class=na>uri_file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>        </span><span class=c1>// A URI that refers to a single folder</span>
<span class=w>        </span><span class=kt>string</span><span class=w> </span><span class=na>uri_folder</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>      </span><span class=p>}</span>

<span class=w>      </span><span class=c1>// Original file format enum, superseded by the file_format oneof.</span>
<span class=w>      </span><span class=k>reserved</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
<span class=w>      </span><span class=k>reserved</span><span class=w> </span><span class=s>&quot;format&quot;</span><span class=p>;</span>

<span class=w>      </span><span class=c1>// The index of the partition this item belongs to</span>
<span class=w>      </span><span class=kt>uint64</span><span class=w> </span><span class=na>partition_index</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span><span class=p>;</span>

<span class=w>      </span><span class=c1>// The start position in byte to read from this item</span>
<span class=w>      </span><span class=kt>uint64</span><span class=w> </span><span class=na>start</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>7</span><span class=p>;</span>

<span class=w>      </span><span class=c1>// The length in byte to read from this item</span>
<span class=w>      </span><span class=kt>uint64</span><span class=w> </span><span class=na>length</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>8</span><span class=p>;</span>

<span class=w>      </span><span class=kd>message</span><span class=w> </span><span class=nc>ParquetReadOptions</span><span class=w> </span><span class=p>{}</span>
<span class=w>      </span><span class=kd>message</span><span class=w> </span><span class=nc>ArrowReadOptions</span><span class=w> </span><span class=p>{}</span>
<span class=w>      </span><span class=kd>message</span><span class=w> </span><span class=nc>OrcReadOptions</span><span class=w> </span><span class=p>{}</span>
<span class=w>      </span><span class=kd>message</span><span class=w> </span><span class=nc>DwrfReadOptions</span><span class=w> </span><span class=p>{}</span>

<span class=w>      </span><span class=c1>// The format of the files.</span>
<span class=w>      </span><span class=k>oneof</span><span class=w> </span><span class=n>file_format</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=n>ParquetReadOptions</span><span class=w> </span><span class=na>parquet</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>9</span><span class=p>;</span>
<span class=w>        </span><span class=n>ArrowReadOptions</span><span class=w> </span><span class=na>arrow</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>
<span class=w>        </span><span class=n>OrcReadOptions</span><span class=w> </span><span class=na>orc</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>11</span><span class=p>;</span>
<span class=w>        </span><span class=n>google.protobuf.Any</span><span class=w> </span><span class=na>extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>12</span><span class=p>;</span>
<span class=w>        </span><span class=n>DwrfReadOptions</span><span class=w> </span><span class=na>dwrf</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>13</span><span class=p>;</span>
<span class=w>      </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=filter-operation>Filter Operation<a class=headerlink href=#filter-operation title="Permanent link">&para;</a></h2> <p>The filter operator eliminates one or more records from the input data based on a boolean filter expression.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Orderedness, Distribution, remapped by emit</td> </tr> <tr> <td>Direct Output Order</td> <td>The field order as the input.</td> </tr> </tbody> </table> <h3 id=filter-properties>Filter Properties<a class=headerlink href=#filter-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Input</td> <td>The relational input.</td> <td>Required</td> </tr> <tr> <td>Expression</td> <td>A boolean expression which describes which records are included/excluded.</td> <td>Required</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=2:1><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><label for=__tabbed_2_1>FilterRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>FilterRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=n>Expression</span><span class=w> </span><span class=na>condition</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=sort-operation>Sort Operation<a class=headerlink href=#sort-operation title="Permanent link">&para;</a></h2> <p>The sort operator reorders a dataset based on one or more identified sort fields and a sorting function for each.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Will update orderedness property to the output of the sort operation. Distribution property only remapped based on emit.</td> </tr> <tr> <td>Direct Output Order</td> <td>The field order of the input.</td> </tr> </tbody> </table> <h3 id=sort-properties>Sort Properties<a class=headerlink href=#sort-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Input</td> <td>The relational input.</td> <td>Required</td> </tr> <tr> <td>Sort Fields</td> <td>List of one or more fields to sort by. Uses the same properties as the <a href=../basics/#orderedness>orderedness</a> property.</td> <td>One sort field required</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=3:1><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><label for=__tabbed_3_1>SortRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>SortRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=k>repeated</span><span class=w> </span><span class=n>SortField</span><span class=w> </span><span class=na>sorts</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=project-operation>Project Operation<a class=headerlink href=#project-operation title="Permanent link">&para;</a></h2> <p>The project operation will produce one or more additional expressions based on the inputs of the dataset.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Distribution maintained, mapped by emit. Orderedness: Maintained if no window operations. Extended to include projection fields if fields are direct references. If window operations are present, no orderedness is maintained.</td> </tr> <tr> <td>Direct Output Order</td> <td>The field order of the input + the list of new expressions in the order they are declared in the expressions list.</td> </tr> </tbody> </table> <h3 id=project-properties>Project Properties<a class=headerlink href=#project-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Input</td> <td>The relational input.</td> <td>Required</td> </tr> <tr> <td>Expressions</td> <td>List of one or more expressions to add to the input.</td> <td>At least one expression required</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=4:1><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><label for=__tabbed_4_1>ProjectRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>ProjectRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=k>repeated</span><span class=w> </span><span class=n>Expression</span><span class=w> </span><span class=na>expressions</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=cross-product-operation>Cross Product Operation<a class=headerlink href=#cross-product-operation title="Permanent link">&para;</a></h2> <p>The cross product operation will combine two separate inputs into a single output. It pairs every record from the left input with every record of the right input.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>2</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Distribution is maintained. Orderedness is empty post operation.</td> </tr> <tr> <td>Direct Output Order</td> <td>The emit order of the left input followed by the emit order of the right input.</td> </tr> </tbody> </table> <h3 id=cross-product-properties>Cross Product Properties<a class=headerlink href=#cross-product-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Left Input</td> <td>A relational input.</td> <td>Required</td> </tr> <tr> <td>Right Input</td> <td>A relational input.</td> <td>Required</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=5:1><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><label for=__tabbed_5_1>CrossRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>CrossRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>

<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=join-operation>Join Operation<a class=headerlink href=#join-operation title="Permanent link">&para;</a></h2> <p>The join operation will combine two separate inputs into a single output, based on a join expression. A common subtype of joins is an equality join where the join expression is constrained to a list of equality (or equality + null equality) conditions between the two inputs of the join.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>2</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Distribution is maintained. Orderedness is empty post operation. Physical relations may provide better property maintenance.</td> </tr> <tr> <td>Direct Output Order</td> <td>The emit order of the left input followed by the emit order of the right input.</td> </tr> </tbody> </table> <h3 id=join-properties>Join Properties<a class=headerlink href=#join-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Left Input</td> <td>A relational input.</td> <td>Required</td> </tr> <tr> <td>Right Input</td> <td>A relational input.</td> <td>Required</td> </tr> <tr> <td>Join Expression</td> <td>A boolean condition that describes whether each record from the left set &ldquo;match&rdquo; the record from the right set. Field references correspond to the direct output order of the data.</td> <td>Required. Can be the literal True.</td> </tr> <tr> <td>Join Type</td> <td>One of the join types defined below.</td> <td>Required</td> </tr> </tbody> </table> <h3 id=join-types>Join Types<a class=headerlink href=#join-types title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Inner</td> <td>Return records from the left side only if they match the right side. Return records from the right side only when they match the left side. For each cross input match, return a record including the data from both sides. Non-matching records are ignored.</td> </tr> <tr> <td>Outer</td> <td>Return all records from both the left and right inputs. For each cross input match, return a record including the data from both sides. For any remaining non-match records, return the record from the corresponding input along with nulls for the opposite input.</td> </tr> <tr> <td>Left</td> <td>Return all records from the left input. For each cross input match, return a record including the data from both sides. For any remaining non-matching records from the left input, return the left record along with nulls for the right input.</td> </tr> <tr> <td>Right</td> <td>Return all records from the right input. For each cross input match, return a record including the data from both sides. For any remaining non-matching records from the right input, return the right record along with nulls for the left input.</td> </tr> <tr> <td>Semi</td> <td>Returns records from the left input. These are returned only if the records have a join partner on the right side.</td> </tr> <tr> <td>Anti</td> <td>Return records from the left input. These are returned only if the records do not have a join partner on the right side.</td> </tr> <tr> <td>Single</td> <td>Returns one join partner per entry on the left input. If more than one join partner exists, there are two valid semantics. 1) Only the first match is returned. 2) The system throws an error. If there is no match between the left and right inputs, NULL is returned.</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=6:1><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><label for=__tabbed_6_1>JoinRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>JoinRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>left</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>right</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=n>Expression</span><span class=w> </span><span class=na>expression</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>  </span><span class=n>Expression</span><span class=w> </span><span class=na>post_join_filter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>

<span class=w>  </span><span class=n>JoinType</span><span class=w> </span><span class=na>type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span><span class=p>;</span>

<span class=w>  </span><span class=kd>enum</span><span class=w> </span><span class=n>JoinType</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=na>JOIN_TYPE_UNSPECIFIED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=na>JOIN_TYPE_INNER</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=na>JOIN_TYPE_OUTER</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>    </span><span class=na>JOIN_TYPE_LEFT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>    </span><span class=na>JOIN_TYPE_RIGHT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>    </span><span class=na>JOIN_TYPE_SEMI</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
<span class=w>    </span><span class=na>JOIN_TYPE_ANTI</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// This join is useful for nested sub-queries where we need exactly one tuple in output (or throw exception)</span>
<span class=w>    </span><span class=c1>// See Section 3.2 of https://15721.courses.cs.cmu.edu/spring2018/papers/16-optimizer2/hyperjoins-btw2017.pdf</span>
<span class=w>    </span><span class=na>JOIN_TYPE_SINGLE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>7</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=set-operation>Set Operation<a class=headerlink href=#set-operation title="Permanent link">&para;</a></h2> <p>The set operation encompasses several set-level operations that support combining datasets, possibly excluding records based on various types of record level matching.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>2 or more</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Maintains distribution if all inputs have the same ordinal distribution. Orderedness is not maintained.</td> </tr> <tr> <td>Direct Output Order</td> <td>The field order of the inputs. All inputs must have identical fields.</td> </tr> </tbody> </table> <h3 id=set-properties>Set Properties<a class=headerlink href=#set-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Primary Input</td> <td>The primary input of the dataset.</td> <td>Required</td> </tr> <tr> <td>Secondary Inputs</td> <td>One or more relational inputs.</td> <td>At least one required</td> </tr> <tr> <td>Set Operation Type</td> <td>From list below.</td> <td>Required</td> </tr> </tbody> </table> <h3 id=set-operation-types>Set Operation Types<a class=headerlink href=#set-operation-types title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>Minus (Primary)</td> <td>Returns the primary input excluding any matching records from secondary inputs.</td> </tr> <tr> <td>Minus (Multiset)</td> <td>Returns the primary input minus any records that are included in all sets.</td> </tr> <tr> <td>Intersection (Primary)</td> <td>Returns all rows primary rows that intersect at least one secondary input.</td> </tr> <tr> <td>Intersection (Multiset)</td> <td>Returns all rows that intersect at least one record from each secondary inputs.</td> </tr> <tr> <td>Union Distinct</td> <td>Returns all the records from each set, removing any rows that are duplicated (within or across sets).</td> </tr> <tr> <td>Union All</td> <td>Returns all records from each set, allowing duplicates.</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=7:1><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><label for=__tabbed_7_1>SetRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>SetRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=c1>// The first input is the primary input, the remaining are secondary</span>
<span class=w>  </span><span class=c1>// inputs.  There must be at least two inputs.</span>
<span class=w>  </span><span class=k>repeated</span><span class=w> </span><span class=n>Rel</span><span class=w> </span><span class=na>inputs</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=n>SetOp</span><span class=w> </span><span class=na>op</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=w>  </span><span class=kd>enum</span><span class=w> </span><span class=n>SetOp</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=na>SET_OP_UNSPECIFIED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=na>SET_OP_MINUS_PRIMARY</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=na>SET_OP_MINUS_MULTISET</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>    </span><span class=na>SET_OP_INTERSECTION_PRIMARY</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>    </span><span class=na>SET_OP_INTERSECTION_MULTISET</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>    </span><span class=na>SET_OP_UNION_DISTINCT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
<span class=w>    </span><span class=na>SET_OP_UNION_ALL</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=fetch-operation>Fetch Operation<a class=headerlink href=#fetch-operation title="Permanent link">&para;</a></h2> <p>The fetch operation eliminates records outside a desired window. Typically corresponds to a fetch/offset SQL clause. Will only returns records between the start offset and the end offset.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Maintains distribution and orderedness.</td> </tr> <tr> <td>Direct Output Order</td> <td>Unchanged from input.</td> </tr> </tbody> </table> <h3 id=fetch-properties>Fetch Properties<a class=headerlink href=#fetch-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Input</td> <td>A relational input, typically with a desired orderedness property.</td> <td>Required</td> </tr> <tr> <td>Offset</td> <td>A positive integer. Declares the offset for retrieval of records.</td> <td>Optional, defaults to 0.</td> </tr> <tr> <td>Count</td> <td>A positive integer. Declares the number of records that should be returned.</td> <td>Required</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=8:1><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><label for=__tabbed_8_1>FetchRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>FetchRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=c1>// the offset expressed in number of records</span>
<span class=w>  </span><span class=kt>int64</span><span class=w> </span><span class=na>offset</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=c1>// the amount of records to return</span>
<span class=w>  </span><span class=kt>int64</span><span class=w> </span><span class=na>count</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=aggregate-operation>Aggregate Operation<a class=headerlink href=#aggregate-operation title="Permanent link">&para;</a></h2> <p>The aggregate operation groups input data on one or more sets of grouping keys, calculating each measure for each combination of grouping key.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Maintains distribution if all distribution fields are contained in every grouping set. No orderedness guaranteed.</td> </tr> <tr> <td>Direct Output Order</td> <td>The list of distinct columns from each grouping set (ordered by their first appearance) followed by the list of measures in declaration order, followed by an <code>i32</code> describing the associated particular grouping set the value is derived from (if applicable).</td> </tr> </tbody> </table> <p>In its simplest form, an aggregation has only measures. In this case, all records are folded into one, and a column is returned for each aggregate expression in the measures list.</p> <p>Grouping sets can be used for finer-grained control over which records are folded. Within a grouping set, two records will be folded together if and only if each expressions in the grouping set yields the same value for each. The values returned by the grouping sets will be returned as columns to the left of the columns for the aggregate expressions. If a grouping set contains no grouping expressions, all rows will be folded for that grouping set.</p> <p>It&rsquo;s possible to specify multiple grouping sets in a single aggregate operation. The grouping sets behave more or less independently, with each returned record belonging to one of the grouping sets. The values for the grouping expression columns that are not part of the grouping set for a particular record will be set to null. Two grouping expressions will be returned using the same column if they represent the protobuf messages describing the expressions are equal. The columns for grouping expressions that do <em>not</em> appear in <em>all</em> grouping sets will be nullable (regardless of the nullability of the type returned by the grouping expression) to accomodate the null insertion.</p> <p>To further disambiguate which record belongs to which grouping set, an aggregate relation with more than one grouping set receives an extra <code>i32</code> column on the right-hand side. The value of this field will be the zero-based index of the grouping set that yielded the record.</p> <p>If at least one grouping expression is present, the aggregation is allowed to not have any aggregate expressions. An aggregate relation is invalid if it would yield zero columns.</p> <h3 id=aggregate-properties>Aggregate Properties<a class=headerlink href=#aggregate-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Input</td> <td>The relational input.</td> <td>Required</td> </tr> <tr> <td>Grouping Sets</td> <td>One or more grouping sets.</td> <td>Optional, required if no measures.</td> </tr> <tr> <td>Per Grouping Set</td> <td>A list of expression grouping that the aggregation measured should be calculated for.</td> <td>Optional.</td> </tr> <tr> <td>Measures</td> <td>A list of one or more aggregate expressions along with an optional filter.</td> <td>Optional, required if no grouping sets.</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=9:1><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><label for=__tabbed_9_1>AggregateRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>AggregateRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=n>RelCommon</span><span class=w> </span><span class=na>common</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// Input of the aggregation</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// A list of expression grouping that the aggregation measured should be calculated for.</span>
<span class=w>  </span><span class=k>repeated</span><span class=w> </span><span class=n>Grouping</span><span class=w> </span><span class=na>groupings</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// A list of one or more aggregate expressions along with an optional filter.</span>
<span class=w>  </span><span class=k>repeated</span><span class=w> </span><span class=n>Measure</span><span class=w> </span><span class=na>measures</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>

<span class=w>  </span><span class=n>substrait.extensions.AdvancedExtension</span><span class=w> </span><span class=na>advanced_extension</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>10</span><span class=p>;</span>

<span class=w>  </span><span class=kd>message</span><span class=w> </span><span class=nc>Grouping</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=k>repeated</span><span class=w> </span><span class=n>Expression</span><span class=w> </span><span class=na>grouping_expressions</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=kd>message</span><span class=w> </span><span class=nc>Measure</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=n>AggregateFunction</span><span class=w> </span><span class=na>measure</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>

<span class=w>    </span><span class=c1>// An optional boolean expression that acts to filter which records are</span>
<span class=w>    </span><span class=c1>// included in the measure. True means include this record for calculation</span>
<span class=w>    </span><span class=c1>// within the measure.</span>
<span class=w>    </span><span class=c1>// Helps to support SUM(&lt;c&gt;) FILTER(WHERE...) syntax without masking opportunities for optimization</span>
<span class=w>    </span><span class=n>Expression</span><span class=w> </span><span class=na>filter</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=reference-operator>Reference Operator<a class=headerlink href=#reference-operator title="Permanent link">&para;</a></h2> <p>The reference operator is used to construct DAGs of operations. In a <code>Plan</code> we can have multiple Rel representing various computations with potentially multiple outputs. The <code>ReferenceRel</code> is used to express the fact that multiple <code>Rel</code> might be sharing subtrees of computation. This can be used to express arbitrary DAGs as well as represent multi-query optimizations.</p> <p>As a concrete example think about two queries <code>SELECT * FROM A JOIN B JOIN C</code> and <code>SELECT * FROM A JOIN B JOIN D</code>, We could use the <code>ReferenceRel</code> to highlight the shared <code>A JOIN B</code> between the two queries, by creating a plan with 3 <code>Rel</code>. One expressing <code>A JOIN B</code> (in position 0 in the plan), one using reference as follows: <code>ReferenceRel(0) JOIN C</code> and a third one doing <code>ReferenceRel(0) JOIN D</code>. This allows to avoid the redundancy of <code>A JOIN B</code>.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Maintains all properties of the input</td> </tr> <tr> <td>Direct Output Order</td> <td>Maintains order</td> </tr> </tbody> </table> <h3 id=reference-properties>Reference Properties<a class=headerlink href=#reference-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Referred Rel</td> <td>A zero-indexed positional reference to a <code>Rel</code> defined within the same <code>Plan</code>.</td> <td>Required</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=10:1><input checked=checked id=__tabbed_10_1 name=__tabbed_10 type=radio><label for=__tabbed_10_1>ReferenceRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>ReferenceRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=kt>int32</span><span class=w> </span><span class=na>subtree_ordinal</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=write-operator>Write Operator<a class=headerlink href=#write-operator title="Permanent link">&para;</a></h2> <p>The write operator is an operator that consumes one output and writes it to storage. This can range from writing to a Parquet file, to INSERT/DELETE/UPDATE in a database.</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>1</td> </tr> <tr> <td>Property Maintenance</td> <td>Output depends on OutputMode (none, or modified tuples)</td> </tr> <tr> <td>Direct Output Order</td> <td>Unchanged from input</td> </tr> </tbody> </table> <h3 id=write-properties>Write Properties<a class=headerlink href=#write-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Write Type</td> <td>Definition of which object we are operating on (e.g., a fully-qualified table name).</td> <td>Required</td> </tr> <tr> <td>CTAS Schema</td> <td>The names of all the columns and their type for a CREATE TABLE AS.</td> <td>Required only for CTAS</td> </tr> <tr> <td>Write Operator</td> <td>Which type of operation we are performing (INSERT/DELETE/UPDATE/CTAS).</td> <td>Required</td> </tr> <tr> <td>Rel Input</td> <td>The Rel representing which tuples we will be operating on (e.g., VALUES for an INSERT, or which tuples to DELETE, or tuples and after-image of their values for UPDATE).</td> <td>Required</td> </tr> <tr> <td>Output Mode</td> <td>For views that modify a DB it is important to control, which tuples to &ldquo;return&rdquo;. Common default is NO_OUTPUT where we return nothing. Alternatively, we can return MODIFIED_TUPLES, that can be further manipulated by layering more rels ontop of this WriteRel (e.g., to &ldquo;count how many tuples were updated&rdquo;). This also allows to return the after-image of the change. To return before-image (or both) one can use the reference mechanisms and have multiple return values.</td> <td>Required for VIEW CREATE/CREATE_OR_REPLACE/ALTER</td> </tr> </tbody> </table> <h3 id=write-definition-types>Write Definition Types<a class=headerlink href=#write-definition-types title="Permanent link">&para;</a></h3> <p>Write definition types are built by the community and added to the specification. This is a portion of specification that is expected to grow rapidly.</p> <div class=tabbed-set data-tabs=11:1><input checked=checked id=__tabbed_11_1 name=__tabbed_11 type=radio><label for=__tabbed_11_1>WriteRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>WriteRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// Definition of which TABLE we are operating on</span>
<span class=w>  </span><span class=k>oneof</span><span class=w> </span><span class=n>write_type</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=n>NamedObjectWrite</span><span class=w> </span><span class=na>named_table</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=n>ExtensionObject</span><span class=w> </span><span class=na>extension_table</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=c1>// The schema of the table (must align with Rel input (e.g., number of leaf fields must match))</span>
<span class=w>  </span><span class=n>NamedStruct</span><span class=w> </span><span class=na>table_schema</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// The type of operation to perform</span>
<span class=w>  </span><span class=n>WriteOp</span><span class=w> </span><span class=na>op</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// The relation that determines the tuples to add/remove/modify</span>
<span class=w>  </span><span class=c1>// the schema must match with table_schema. Default values must be explicitly stated</span>
<span class=w>  </span><span class=c1>// in a ProjectRel at the top of the input. The match must also</span>
<span class=w>  </span><span class=c1>// occur in case of DELETE to ensure multi-engine plans are unequivocal.</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// Output mode determines what is the output of executing this rel</span>
<span class=w>  </span><span class=n>OutputMode</span><span class=w> </span><span class=na>output</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span><span class=p>;</span>

<span class=w>  </span><span class=kd>enum</span><span class=w> </span><span class=n>WriteOp</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=na>WRITE_OP_UNSPECIFIED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// The insert of new tuples in a table</span>
<span class=w>    </span><span class=na>WRITE_OP_INSERT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// The removal of tuples from a table</span>
<span class=w>    </span><span class=na>WRITE_OP_DELETE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// The modification of existing tuples within a table</span>
<span class=w>    </span><span class=na>WRITE_OP_UPDATE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// The Creation of a new table, and the insert of new tuples in the table</span>
<span class=w>    </span><span class=na>WRITE_OP_CTAS</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=kd>enum</span><span class=w> </span><span class=n>OutputMode</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=na>OUTPUT_MODE_UNSPECIFIED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// return no tuples at all</span>
<span class=w>    </span><span class=na>OUTPUT_MODE_NO_OUTPUT</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// this mode makes the operator return all the tuple INSERTED/DELETED/UPDATED by the operator.</span>
<span class=w>    </span><span class=c1>// The operator returns the AFTER-image of any change. This can be further manipulated by operators upstreams</span>
<span class=w>    </span><span class=c1>// (e.g., retunring the typical &quot;count of modified tuples&quot;).</span>
<span class=w>    </span><span class=c1>// For scenarios in which the BEFORE image is required, the user must implement a spool (via references to</span>
<span class=w>    </span><span class=c1>// subplans in the body of the Rel input) and return those with anounter PlanRel.relations.</span>
<span class=w>    </span><span class=na>OUTPUT_MODE_MODIFIED_TUPLES</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h4 id=virtual-table_1>Virtual Table<a class=headerlink href=#virtual-table_1 title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Name</td> <td>The in-memory name to give the dataset.</td> <td>Required</td> </tr> <tr> <td>Pin</td> <td>Whether it is okay to remove this dataset from memory or it should be kept in memory.</td> <td>Optional, defaults to false.</td> </tr> </tbody> </table> <h4 id=files-type_1>Files Type<a class=headerlink href=#files-type_1 title="Permanent link">&para;</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Path</td> <td>A URI to write the data to. Supports the inclusion of field references that are listed as available in properties as a &ldquo;rotation description field&rdquo;.</td> <td>Required</td> </tr> <tr> <td>Format</td> <td>Enumeration of available formats. Only current option is PARQUET.</td> <td>Required</td> </tr> </tbody> </table> <h2 id=ddl-operator>DDL Operator<a class=headerlink href=#ddl-operator title="Permanent link">&para;</a></h2> <p>The operator that defines modifications of a database schema (CREATE/DROP/ALTER for TABLE and VIEWS).</p> <table> <thead> <tr> <th>Signature</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td>Inputs</td> <td>1</td> </tr> <tr> <td>Outputs</td> <td>0</td> </tr> <tr> <td>Property Maintenance</td> <td>N/A (no output)</td> </tr> <tr> <td>Direct Output Order</td> <td>N/A</td> </tr> </tbody> </table> <h3 id=ddl-properties>DDL Properties<a class=headerlink href=#ddl-properties title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Required</th> </tr> </thead> <tbody> <tr> <td>Write Type</td> <td>Definition of which type of object we are operating on.</td> <td>Required</td> </tr> <tr> <td>Table Schema</td> <td>The names of all the columns and their type.</td> <td>Required (except for DROP operations)</td> </tr> <tr> <td>Table Defaults</td> <td>The set of default values for this table.</td> <td>Required (except for DROP operations)</td> </tr> <tr> <td>DDL Object</td> <td>Which type of object we are operating on (e.g., TABLE or VIEW).</td> <td>Required</td> </tr> <tr> <td>DDL Operator</td> <td>The operation to be performed (e.g., CREATE/ALTER/DROP).</td> <td>Required</td> </tr> <tr> <td>View Definition</td> <td>A Rel representing the &ldquo;body&rdquo; of a VIEW.</td> <td>Required for VIEW CREATE/CREATE_OR_REPLACE/ALTER</td> </tr> </tbody> </table> <div class=tabbed-set data-tabs=12:1><input checked=checked id=__tabbed_12_1 name=__tabbed_12 type=radio><label for=__tabbed_12_1>DdlRel Message</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=kd>message</span><span class=w> </span><span class=nc>DdlRel</span><span class=w> </span><span class=p>{</span>
<span class=w>  </span><span class=c1>// Definition of which type of object we are operating on</span>
<span class=w>  </span><span class=k>oneof</span><span class=w> </span><span class=n>write_type</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=n>NamedObjectWrite</span><span class=w> </span><span class=na>named_object</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=n>ExtensionObject</span><span class=w> </span><span class=na>extension_object</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=c1>// The columns that will be modified (representing after-image of a schema change)</span>
<span class=w>  </span><span class=n>NamedStruct</span><span class=w> </span><span class=na>table_schema</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>  </span><span class=c1>// The default values for the columns (representing after-image of a schema change)</span>
<span class=w>  </span><span class=c1>// E.g., in case of an ALTER TABLE that changes some of the column default values, we expect</span>
<span class=w>  </span><span class=c1>// the table_defaults Struct to report a full list of default values reflecting the result of applying</span>
<span class=w>  </span><span class=c1>// the ALTER TABLE operator successfully</span>
<span class=w>  </span><span class=n>Expression.Literal.Struct</span><span class=w> </span><span class=na>table_defaults</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// Which type of object we operate on</span>
<span class=w>  </span><span class=n>DdlObject</span><span class=w> </span><span class=na>object</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// The type of operation to perform</span>
<span class=w>  </span><span class=n>DdlOp</span><span class=w> </span><span class=na>op</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>6</span><span class=p>;</span>

<span class=w>  </span><span class=c1>// The body of the CREATE VIEW</span>
<span class=w>  </span><span class=n>Rel</span><span class=w> </span><span class=na>view_definition</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>7</span><span class=p>;</span>

<span class=w>  </span><span class=kd>enum</span><span class=w> </span><span class=n>DdlObject</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=na>DDL_OBJECT_UNSPECIFIED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// A Table object in the system</span>
<span class=w>    </span><span class=na>DDL_OBJECT_TABLE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// A View object in the system</span>
<span class=w>    </span><span class=na>DDL_OBJECT_VIEW</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>

<span class=w>  </span><span class=kd>enum</span><span class=w> </span><span class=n>DdlOp</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=na>DDL_OP_UNSPECIFIED</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// A create operation (for any object)</span>
<span class=w>    </span><span class=na>DDL_OP_CREATE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// A create operation if the object does not exist, or replaces it (equivalent to a DROP + CREATE) if the object already exists</span>
<span class=w>    </span><span class=na>DDL_OP_CREATE_OR_REPLACE</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>2</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// An operation that modifies the schema (e.g., column names, types, default values) for the target object</span>
<span class=w>    </span><span class=na>DDL_OP_ALTER</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>3</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// An operation that removes an object from the system</span>
<span class=w>    </span><span class=na>DDL_OP_DROP</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>4</span><span class=p>;</span>
<span class=w>    </span><span class=c1>// An operation that removes an object from the system (without throwing an exception if the object did not exist)</span>
<span class=w>    </span><span class=na>DDL_OP_DROP_IF_EXIST</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>5</span><span class=p>;</span>
<span class=w>  </span><span class=p>}</span>
<span class=w>  </span><span class=c1>//TODO add PK/constraints/indexes/etc..?</span>

<span class=p>}</span>
</code></pre></div> </div> </div> <h2 id=discussion-points>Discussion Points<a class=headerlink href=#discussion-points title="Permanent link">&para;</a></h2> <ul> <li>How to handle correlated operations?</li> </ul> </article> </div> </div> </main> <!--
  Copyright (c) 2016-2020 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
--> <!-- Application footer --> <footer class=md-footer> <!-- Link to previous and/or next page --> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label> <!-- Link to previous page --> <a href=../basics/ title=Basics class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Basics </div> </div> </a> <!-- Link to next page --> <a href=../physical_relations/ title="Physical Relations" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Physical Relations </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> </div> <!-- Further information --> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <!-- Copyright and theme information --> <div class=md-footer-copyright> </div> <!-- Social links --> <div class=md-social> <a href=https://twitter.com/substrait_io target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.instant", "toc.integrate"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.220ee61c.min.js></script> </body> </html>